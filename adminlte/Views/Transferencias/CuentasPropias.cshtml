@model adminlte.Models.Transferencias.TransferenciasPropiasViewModel

@{
    ViewBag.Title = "Transferencias Cuentas Propias";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@using (Html.BeginForm("CuentasPropias", "Transferencias", FormMethod.Post, new { @id = "FormularioCuentasPropias" }))

{

    @Html.AntiForgeryToken()
       
    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.cuentaDesde, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.cuentaDesde, new SelectList(ViewBag.CuentasDropDown, "Id", "Name"), "Selecciona una cuenta", htmlAttributes: new { @class = "form-control" })
                @*@Html.EditorFor(model => model.cuentaDesde, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.ValidationMessageFor(model => model.cuentaDesde, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.cuentaHasta, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @*  @Html.EditorFor(model => model.cuentaHasta, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.DropDownListFor(model => model.cuentaHasta, new SelectList(ViewBag.CuentasDropDown, "Id", "Name"), "Selecciona una cuenta", htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.cuentaHasta, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.institucion, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.institucion, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.institucion, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.valor, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.valor, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.valor, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.comision, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.comision, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.comision, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.correo, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.correo, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.correo, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Aceptar" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" id="btnSubmit" />
                <button class="btn btn-default" id="btnAceptar">Confirmar</button>
            </div>
        </div>
    </div>

}

<div class="col-md-offset-2 col-md-10">



</div>



@section Scripts {

    @Scripts.Render("~/bundles/jquery")



    <script>

        $(document).ready(function () {
            //var form = $("#FormularioCuentasPropias");
           
            $("#btnAceptar").hide();
            $("#btnSubmit").click(function (event) {
                event.preventDefault();
                if ($("form").valid()) {
                    alert("Valid");
                    $("#btnAceptar").show();
                    $("#btnSubmit").hide();
                    $("#btnAceptar").removeAttr("class");
                    $("#btnAceptar").addClass("btn btn-success");
                    $("#btnSubmit").attr("id", "btnSubmitok");
                    $("#cuentaDesde").attr("readonly", true);
                    $("#cuentaHasta").attr("readonly", true);
                    $("#institucionDestino").attr("readonly", true);
                    $("#valor").attr("readonly", true);
                    $("#comision").attr("readonly", true);
                    $("#correo").attr("readonly", true);
                } else {
                    alert("Datos no validos");
                }
            });
            $("#btnAceptar").click(function (event) {
                if ($("form").valid()) {
                    var form = $('#FormularioCuentasPropias');
                    var action = $(this).data('action');
                    form.attr('action', action);
                    form.submit();
                } else {
                    alert("Datos no validos");
                }
            });

        });







    </script>

}